/* assets/assets/printable.css の完全版 */

/* --- 1. 共通設定（印刷・画面両方） --- */
:root {
    --print-margin: 10mm; /* ここで余白を一括管理 */
}

/* --- 2. 画面プレビュー用 (WYSIWYG) --- */
@media screen {
    body {
        background-color: #e0e0e0;
    }
    .printable-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 40px 0;
    }
    .printable-page {
        background: white;
        width: 210mm;           /* A4横幅 */
        height: 297mm;          /* A4縦幅 */
        margin-bottom: 20px;
        padding: var(--print-margin);
        box-shadow: 0 0 15px rgba(0,0,0,0.2);
        box-sizing: border-box;
        overflow: hidden;       /* はみ出し防止 */
        position: relative;
    }
}

/* --- 3. 印刷用設定 --- */
@media print {
    @page {
        size: A4 portrait;
        margin: 0 !important; /* ブラウザの余白をゼロにする */
    }

    html, body {
        width: 210mm;
        height: 297mm;
        margin: 0 !important;
        padding: 0 !important;
        background: #fff !important;
    }

    .printable-page {
        width: 210mm !important;
        height: 297mm !important;
        padding: var(--print-margin) !important;
        margin: 0 !important;
        page-break-after: always;
        box-sizing: border-box;
    }

    /* 印刷に不要な要素 */
    #report-header, .no-print, .btn, .dash-loading {
        display: none !important;
    }

    /* Plotlyグラフのサイズ固定 */
    .js-plotly-plot {
        width: 100% !important;
        height: 300px !important;
    }
    
    /* BootstrapのRow/Colが印刷時に崩れるのを防ぐ */
    .row {
        display: flex !important;
        flex-wrap: nowrap !important; /* 折り返しを強制防止 */
    }
}

/* --- 4. 装飾用スタイル --- */
.section-title {
    border-left: 5px solid #007bff;
    padding-left: 10px;
    background: #f8f9fa;
    margin: 20px 0 10px;
}
.comment-print-box {
    border: 1px solid #dee2e6;
    padding: 15px;
    min-height: 400px;
    font-size: 10.5pt;
    line-height: 1.8;
}